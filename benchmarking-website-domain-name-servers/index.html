<!DOCTYPE html>
<html lang="en"
>
<head>
    <title>Benchmarking Website Domain Name Servers - Stephen Reese</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index,follow" />
<link rel="canonical" href="/benchmarking-website-domain-name-servers/">
        <meta name="author" content="Stephen Reese" />
        <meta name="keywords" content="benchmark,name servers,namebench" />
        <meta name="description" content="This post evaluates a few methods to benchmark name servers that provide resolution of your websites domain name to its respective IP address. While DNS resolution for you domain is a small piece of the process for a user to retrieve a page, it is still important to provide the …" />
    <!-- Bootstrap -->
    <link rel="stylesheet" href="/theme/css/bootstrap.flatly.min.css" type="text/css"/>
    <link href="/theme/css/font-awesome.min.css" rel="stylesheet">
    <link href="/theme/css/pygments/default.css" rel="stylesheet">
    <link href="/theme/css/typogrify.css" rel="stylesheet">
    <link rel="stylesheet" href="/theme/css/style.css" type="text/css"/>
    <link href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Stephen Reese ATOM Feed"/>
</head>
<body>
<div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="/" class="navbar-brand">
rsreese.com            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                    <li><a href="/archives/">Archives</a></li>
                         <li><a href="/about/">
                             About
                          </a></li>
                         <li><a href="/contact/">
                             Contact
                          </a></li>
                         <li><a href="/web-stack/">
                             Web&nbsp;Stack
                          </a></li>
            </ul>
        </div>
    </div>
</div> 

<div id="site-banner">
        <div id="site-banner-brand">
            <div>
                <a href="/"><h1 class="center-block">Stephen Reese</h1></a>
            </div>

                <div id="social-banner">
                    <ul class="list-group list-inline">
                            <li class="list-group-item">
                                <a class="navbar-link social-nav-link" href="/contact/"><i class="fa fa-envelope fa-lg"></i></a>
                            </li>
                            <li class="list-group-item">
                                <a class="navbar-link social-nav-link" href="https://github.com/rsreese"><i class="fa fa-github fa-lg"></i></a>
                            </li>
                            <li class="list-group-item">
                                <a class="navbar-link social-nav-link" href="https://twitter.com/rsreese"><i class="fa fa-twitter fa-lg"></i></a>
                            </li>
                            <li class="list-group-item">
                                <a class="navbar-link social-nav-link" href="https://www.google.com/profiles/rsreese"><i class="fa fa-google-plus fa-lg"></i></a>
                            </li>
                            <li class="list-group-item">
                                <a class="navbar-link social-nav-link" href="https://facebook.com/rsreese"><i class="fa fa-facebook fa-lg"></i></a>
                            </li>
                            <li class="list-group-item">
                                <a class="navbar-link social-nav-link" href="https://www.linkedin.com/in/rsreese"><i class="fa fa-linkedin fa-lg"></i></a>
                            </li>
                            <li class="list-group-item">
                                <a class="navbar-link social-nav-link" href="https://feeds.feedburner.com/rsreese"><i class="fa fa-rss fa-lg"></i></a>
                            </li>
                    </ul>
                </div>

        </div>
    </div>

<div class="container">
    <div class="row">
        <div class="col-lg-12">
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="/benchmarking-website-domain-name-servers/"
                       rel="bookmark"
                       title="Permalink to Benchmarking Website Domain Name Servers">
                        Benchmarking Website Domain Name&nbsp;Servers
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
            <span>By</span>
            <a href="/author/stephen-reese.html">Stephen Reese</a>

    <span>on</span>
    <span class="published">
        <time datetime="2015-06-14T12:00:00-04:00"> Sun 14 June 2015</time>
    </span>

        <span><a href="/categories/">Category</a>:</span>
        <a href="/category/web-sites/">web sites</a>


<span><a href="/tags/">Tags:</a></span>
	<a href="/tag/benchmark/">benchmark</a>
        /
	<a href="/tag/name-servers/">name servers</a>
        /
	<a href="/tag/namebench/">namebench</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <p>This post evaluates a few methods to benchmark name servers that provide resolution of your websites domain name to its respective <span class="caps">IP</span> address. While <span class="caps">DNS</span> resolution for you domain is a small piece of the process for a user to retrieve a page, it is still important to provide the fastest experience possible, regardless of where they are connecting from. There are several methods to benchmark: from a dedicated host, or <span class="caps">VPS</span> or a last-mile end-point such as a residential connection. Dedicated host benchmark examples would include <a href="http://www.dnsperf.com">DNSPerf</a> and <a href="https://pulse.turbobytes.com">TurboBytes Pulse</a>. While the metrics provided by these assessments may be consistent, they may not necessarily represent realistic last-mile performance the end-user would typically experience. This is because these agents are typically on backbone internet connections that have peering agreements with very low latency providers. An exception to Pulse is some of the agents are hosted at locations that would be considered last-mile but at this time the results are averaged into the mean&nbsp;result.</p>
<p><a href="http://www.dnsperf.com">DNSPerf:</a>
<a href="/assets/dnsperf.png"><img alt="dnsperf" src="/assets/dnsperf.png"></a></p>
<p><a href="https://pulse.turbobytes.com">TurboBytes Pulse:</a>
<a href="/assets/pulse.png"><img alt="pulse" src="/assets/pulse.png"></a></p>
<p>Last-mile metrics provide us with an idea of what our site users first request for a <span class="caps">DNS</span> lookup will be. Specifically, a request for a record that is not cached by the system performing the lookup e.g. browser, <span class="caps">OS</span>, local network <span class="caps">DNS</span> forwarder, etc. Depending on the users geographic location and network connection (latency considerations), this could be the difference of several hundred milliseconds for an initial lookup. A few ways to examine last mile <span class="caps">DNS</span> are via browser, visitor analytics, or scripts. All have their pro and cons just as backbone tests do. Examples&nbsp;include:</p>
<p>Chrome Browser Console:
<a href="/assets/chrome-console.png"><img alt="chrome-console" src="/assets/chrome-console.png"></a></p>
<p><a href="http://tools.pingdom.com/fpt/">Pingdom:</a>
<a href="/assets/pingdom.png"><img alt="pingdom" src="/assets/pingdom.png"></a></p>
<p><a href="http://www.webpagetest.org">WebPagetest:</a>
<a href="/assets/webpagetest.png"><img alt="webpagetest" src="/assets/webpagetest.png"></a></p>
<p><a href="http://www.google.com/analytics/">Google Analytics:</a>
<a href="/assets/google-analytics.png"><img alt="google-analytics" src="/assets/google-analytics.png"></a></p>
<p>The aforementioned tools provide some solid metrics but I wanted a way to assess my domains name servers with a large number of <span class="caps">DNS</span> requests from locations of my choosing. I modified Googles Namebench code available <a href="https://www.github.com/rsreese/namebench">here</a> to allow for on demand name server benchmarks of the specified domain(s) verse its original purpose of benchmarking name servers for general <span class="caps">DNS</span> lookups. Next I setup the zone I wanted to examine at other <span class="caps">DNS</span> providers, Hurricane Electric (<span class="caps">HE</span>) and CloudFlare (<span class="caps">CF</span>). While these two hosts are not authoritative for my domain, i.e. they are not the name servers registered with my domain registrar, they will still respond if I have setup <span class="caps">DNS</span> records. In this case I am testing www.rsreese.com from a Digital Ocean host. Again, this is not realistic as we are testing from a host on optimal network and route conditions but merely to show the&nbsp;output. </p>
<div class="highlight"><pre><span></span><span class="gh">Fastest individual response (in milliseconds):</span>
<span class="gh">----------------------------------------------</span>
HE 3             ## 1.45507
HE 5             ## 1.56093
HE 5 IPv6        ## 1.58811
HE 3 IPv6        ## 1.61195
HE 4             ## 1.62816
HE 2             ## 1.63388
HE 4 IPv6        ## 1.66416
HE 1             ## 1.66702
HE 2 IPv6        ## 1.70302
CF Ram           ## 1.98388
CF Erin          ## 1.98603
Linode 4         ### 4.05502
Linode 4 IPv6    ### 4.06694
Linode 3         ############### 19.89603
Linode 3 IPv6    ################ 21.06285
Linode 1 IPv6    ################################ 42.38200
Linode 1         ################################# 43.81895
Linode 5 IPv6    ################################################### 69.63682
Linode 2 IPv6    #################################################### 70.39404
Linode 2         ##################################################### 71.63501
Linode 5         ##################################################### 72.44182

<span class="gh">Mean response (in milliseconds):</span>
<span class="gh">--------------------------------</span>
HE 2             ## 2.49
HE 1             ## 2.56
HE 4 IPv6        ## 2.63
HE 5             ## 2.64
HE 2 IPv6        ## 2.68
HE 5 IPv6        ## 2.74
HE 4             ## 2.98
HE 3 IPv6        ## 3.06
CF Erin          ## 3.75
HE 3             ### 5.51
CF Ram           ### 6.14
Linode 4 IPv6    ########## 21.88
Linode 4         ########## 21.99
Linode 3         ############ 25.73
Linode 3 IPv6    ################## 40.60
Linode 1         ###################### 49.54
Linode 1 IPv6    ########################### 61.91
Linode 2         ################################# 75.84
Linode 2 IPv6    ####################################### 90.58
Linode 5 IPv6    ################################################### 117.52
Linode 5         ##################################################### 123.20
</pre></div>


<p>A similar test run from a residential internet connection providing more realistic metrics for a broadband&nbsp;connection:</p>
<div class="highlight"><pre><span></span><span class="gh">Fastest individual response (in milliseconds):</span>
<span class="gh">----------------------------------------------</span>
CF Erin          ######## 13.67188
CF Ram           ######## 13.88907
HE 1             ########### 18.39805
HE 5             ########### 18.72587
HE 2             ########### 18.76688
HE 4             ########### 18.77284
HE 3             ########### 18.92185
Linode 4         ############# 21.31605
Linode 3         ################# 28.21493
Linode 1         ############################ 48.61617
Linode 2         ################################################# 83.48799
Linode 5         ##################################################### 92.02409

<span class="gh">Mean response (in milliseconds):</span>
<span class="gh">--------------------------------</span>
HE 3             ############## 27.24
HE 4             ############## 27.68
HE 1             ############### 28.58
HE 5             ############### 28.58
HE 2             ############### 28.89
Linode 4         ################ 31.83
CF Erin          ################### 38.02
Linode 3         ########################## 51.06
CF Ram           ########################## 51.32
Linode 1         #################################### 71.66
Linode 5         ################################################### 102.22
Linode 2         ##################################################### 106.29
</pre></div>


<p>Based on the results that I tested from a number of locations, Hurricane Electric and Cloudflare were consistently faster than Linode, whom hosts my authoritative name servers, i.e. the servers that will respond if no one upstream has the answer cached. Lastly, the Namebench tool does have some built in graphing capability as shown below (not representative of the tabular data&nbsp;above):</p>
<p><a href="/assets/namebench-chart.png"><img alt="namebench-chart" src="/assets/namebench-chart.png"></a></p>
<p>If you find yourself wanting a little more in the way of graphs then what the Google chart <span class="caps">API</span> provides, Namebench provides us a handy spreadsheet that we can use for graphing in R which we demonstrate in the next blog <a href="/graphing-namebench-spreadsheet-data-with-r/">post</a>. Until then, please leave any questions you have regarding this post below or file an issue on the Github page relevant to the issue you are having with the customized <a href="https://www.github.com/rsreese/namebench">Namebench</a>&nbsp;tool.</p>
            </div>
            <!-- /.entry-content -->
    <hr/>
    <section class="comments" id="comments">
        <h2>Comments</h2>
        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'rsreese'; // required: replace example with your forum shortname

                    var disqus_identifier = 'benchmarking-website-domain-name-servers';
                var disqus_url = 'https://www.rsreese.com/benchmarking-website-domain-name-servers/';

            var disqus_config = function () {
                this.language = "en";
            };

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </section>
        </article>
    </section>

        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2018 Stephen Reese
            &middot; Powered by <a href="/web-stack/">Web Stack</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="/theme/js/respond.min.js"></script>

    <!-- Disqus -->
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'rsreese'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <!-- End Disqus Code -->
    <!-- Google Analytics Universal -->
    <script type="text/javascript">
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-495000-2', 'auto', {'siteSpeedSampleRate': 25});
        ga('send', 'pageview');
    </script>
    <!-- End Google Analytics Universal Code -->
</body>
</html>